<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:PuzzleDazzle"
             x:Class="PuzzleDazzle.SettingsPage"
             Title="Settings"
             BackgroundColor="{DynamicResource PageBackgroundColor}">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="25">
            
            <!-- Maze Size Section -->
            <StackLayout Spacing="10">
                <Label Text="Maze Size"
                       FontSize="20"
                       FontAttributes="Bold"
                       TextColor="{DynamicResource Primary}" />
                
                <Picker x:Name="SizePicker"
                        Title="Select maze size"
                        FontSize="16"
                        SelectedIndexChanged="OnSizeChanged">
                    <Picker.Items>
                        <x:String>Small (10x10)</x:String>
                        <x:String>Medium (20x20)</x:String>
                        <x:String>Large (30x30)</x:String>
                    </Picker.Items>
                </Picker>
            </StackLayout>

            <!-- Difficulty Section -->
            <StackLayout Spacing="10">
                <Label Text="Difficulty"
                       FontSize="20"
                       FontAttributes="Bold"
                       TextColor="{DynamicResource Primary}" />
                
                <Picker x:Name="DifficultyPicker"
                        Title="Select difficulty"
                        FontSize="16"
                        SelectedIndexChanged="OnDifficultyChanged">
                    <Picker.Items>
                        <x:String>Easy</x:String>
                        <x:String>Medium</x:String>
                        <x:String>Hard</x:String>
                    </Picker.Items>
                </Picker>
            </StackLayout>

            <!-- Generation Algorithm Section -->
            <StackLayout Spacing="10">
                <Label Text="Generation Algorithm"
                       FontSize="20"
                       FontAttributes="Bold"
                       TextColor="{DynamicResource Primary}" />
                <Label Text="Choose different algorithms to compare maze styles"
                       FontSize="13"
                       TextColor="{DynamicResource Gray500}"
                       Margin="0,-5,0,0" />
                
                <Picker x:Name="AlgorithmPicker"
                        Title="Select algorithm"
                        FontSize="16"
                        SelectedIndexChanged="OnAlgorithmChanged">
                    <Picker.Items>
                        <x:String>Recursive Backtracking</x:String>
                        <x:String>Prim's Algorithm</x:String>
                        <x:String>Kruskal's Algorithm</x:String>
                        <x:String>Wilson's Algorithm</x:String>
                    </Picker.Items>
                </Picker>
            </StackLayout>

            <!-- Upgrade to Premium -->
            <Border Stroke="{DynamicResource Tertiary}"
                    StrokeThickness="2"
                    BackgroundColor="White"
                    Padding="15">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="12" />
                </Border.StrokeShape>
                <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="12">
                    <Label Text="{x:Static local:FontAwesomeIcons.Star}"
                           FontFamily="FontAwesome"
                           FontSize="24"
                           TextColor="{DynamicResource Tertiary}"
                           VerticalTextAlignment="Center" />
                    <StackLayout Grid.Column="1" Spacing="2" VerticalOptions="Center">
                        <Label Text="Upgrade to Premium"
                               FontSize="16"
                               FontAttributes="Bold"
                               TextColor="{DynamicResource Gray900}" />
                        <Label Text="Unlimited maze generation"
                               FontSize="13"
                               TextColor="{DynamicResource Gray500}" />
                    </StackLayout>
                    <Label Grid.Column="2"
                           Text="{x:Static local:FontAwesomeIcons.ArrowLeft}"
                           FontFamily="FontAwesome"
                           FontSize="16"
                           TextColor="{DynamicResource Gray400}"
                           VerticalTextAlignment="Center"
                           Rotation="180" />
                </Grid>
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnUpgradeClicked" />
                </Border.GestureRecognizers>
            </Border>

            <!-- Back Button -->
            <Button Text="{x:Static local:FontAwesomeIcons.ArrowLeft}"
                    FontFamily="FontAwesome"
                    FontSize="20"
                    WidthRequest="56"
                    HeightRequest="56"
                    CornerRadius="28"
                    BackgroundColor="{DynamicResource Secondary}"
                    TextColor="White"
                    Clicked="OnBackClicked"
                    HorizontalOptions="Center"
                    Margin="0,20,0,0"
                    SemanticProperties.Hint="Go back to maze generation" />

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
