<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:controls="clr-namespace:PuzzleDazzle.Controls"
             xmlns:local="clr-namespace:PuzzleDazzle"
             x:Class="PuzzleDazzle.MazePlayPage"
             Title=""
             Shell.NavBarIsVisible="False"
             BackgroundColor="White">

    <!-- Root grid: maze area fills all space, controls overlay on top -->
    <Grid>

        <!-- Maze fills the entire page, with vertical padding to avoid edge bleed -->
        <controls:PlayMazeView x:Name="PlayMazeView" Margin="0,12,0,12" />

        <!-- Top-right: Exit button -->
        <Button x:Name="ExitButton"
                Text="Exit"
                FontSize="14"
                FontAttributes="Bold"
                WidthRequest="72"
                HeightRequest="40"
                CornerRadius="20"
                BackgroundColor="#CC333333"
                TextColor="White"
                HorizontalOptions="End"
                VerticalOptions="Start"
                Margin="0,16,16,0"
                Clicked="OnExitClicked"
                SemanticProperties.Hint="Exit play mode" />

        <!-- Top-left: Timer label -->
        <Border HorizontalOptions="Start"
                VerticalOptions="Start"
                Margin="16,16,0,0"
                BackgroundColor="#CC333333"
                StrokeThickness="0"
                Padding="12,6">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="20" />
            </Border.StrokeShape>
            <Label x:Name="TimerLabel"
                   Text="00:00"
                   FontSize="14"
                   FontAttributes="Bold"
                   TextColor="White"
                   VerticalTextAlignment="Center" />
        </Border>

        <!-- Lower-right: Circular joystick (4 directional tap zones) -->
        <controls:JoystickView x:Name="Joystick"
                               HorizontalOptions="End"
                               VerticalOptions="End"
                               Margin="16,0,16,16"
                               WidthRequest="160"
                               HeightRequest="160"
                               DirectionTapped="OnJoystickDirectionTapped" />

    </Grid>

</ContentPage>
